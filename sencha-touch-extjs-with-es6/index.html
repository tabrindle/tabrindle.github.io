<!DOCTYPE html>
<html lang="en-US">

<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="chrome=1">
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="referrer" content="no-referrer">
<meta name="description" content="Sencha Touch/ExtJS If you have stuck with Sencha Touch or ExtJS for this long, it&rsquo;s probably for a very good reason. Maybe the enterprise you work for pays for it, and that&rsquo;s just what you have, or perhaps you&rsquo;re just very experienced with it, and have a certain fondness for the layout of the framework: the extensible class system, the reusable view components, etc. Or, maybe you just haven&rsquo;t had the time or energy to wade through the exhausting barrage of new JS frameworks that seem to appear every other day.">

<meta property="og:title" content="Sencha Touch/ExtJS with ES6: UPDATED" />
<meta property="og:description" content="Sencha Touch/ExtJS If you have stuck with Sencha Touch or ExtJS for this long, it&rsquo;s probably for a very good reason. Maybe the enterprise you work for pays for it, and that&rsquo;s just what you have, or perhaps you&rsquo;re just very experienced with it, and have a certain fondness for the layout of the framework: the extensible class system, the reusable view components, etc. Or, maybe you just haven&rsquo;t had the time or energy to wade through the exhausting barrage of new JS frameworks that seem to appear every other day." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://trevorbrindle.com/sencha-touch-extjs-with-es6/" />



<meta property="article:published_time" content="2016-02-08T18:00:00-05:00"/>
<meta property="article:modified_time" content="2016-02-08T18:00:00-05:00"/>












<title>


     Sencha Touch/ExtJS with ES6: UPDATED 

</title>
<link rel="canonical" href="https://trevorbrindle.com/sencha-touch-extjs-with-es6/">







<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.11.0/styles/default.min.css">




<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,700|Ubuntu+Mono:400,400i,700,700i|Raleway:500">



    
    <link rel="stylesheet" href="https://trevorbrindle.com/css/reset.css?t=2017-06-06%2016%3a41%3a06.516228728%20-0400%20EDT">
    <link rel="stylesheet" href="https://trevorbrindle.com/css/pygments.css?t=2017-06-06%2016%3a41%3a06.516228728%20-0400%20EDT">
    <link rel="stylesheet" href="https://trevorbrindle.com/css/main.css?t=2017-06-06%2016%3a41%3a06.516228728%20-0400%20EDT">
    
        <link rel="stylesheet" href="https://trevorbrindle.com/css/override.css?t=2017-06-06%2016%3a41%3a06.516228728%20-0400%20EDT">
    




<link rel="shortcut icon"

    href="https://trevorbrindle.com/img/leaf.ico"

>




</head>


<body lang="en">

<section class="header">
    <div class="container">
        <div class="content">
            
                
                
                
                
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                    
                
                
                <a href="https://trevorbrindle.com/"><img class="avatar" src="https://trevorbrindle.com/img/profile.jpg" srcset="https://trevorbrindle.com/img/profile.jpg 1x"></a>
            
            <a href="https://trevorbrindle.com/"><div class="name">Trevor Brindle</div></a>
            
            <nav>
                <ul>
                    
                </ul>
            </nav>
        </div>
    </div>
</section>

<section class="icons">
    <div class="container">
        <div class="content">

        
            <a href="//github.com/tabrindle" target="_blank" rel="noopener"><img class="icon" src="https://trevorbrindle.com/img/github.svg" alt="github" /></a>
        

        
            <a href="//twitter.com/vincekerrazzi" target="_blank" rel="noopener"><img class="icon" src="https://trevorbrindle.com/img/twitter.svg" alt="twitter" /></a>
        

        

        
            <a href="//linkedin.com/in/trevorbrindle" target="_blank" rel="noopener"><img class="icon" src="https://trevorbrindle.com/img/linkedin.svg" alt="linkedin" /></a>
        

        

        

        
            <a href="mailto:tabrindle@gmail.com"><img class="icon" src="https://trevorbrindle.com/img/email.svg" alt="email" /></a>
        

        
            <a href="https://trevorbrindle.com/index.xml"><img class="icon" src="https://trevorbrindle.com/img/rss.svg" alt="rss" /></a>
        
        
        </div>
    </div>
</section>


<section class="main post non-narrow zero-top-spacing">
    <div class="container">
        <div class="content">
            <div class="front-matter">
                <div class="title-container">
                    <div class="page-heading">

    Sencha Touch/ExtJS with ES6: UPDATED

</div>

                    <div class="initials"><a href="https://trevorbrindle.com"></a></div>
                </div>
                <div class="meta">
                    
                    <div class="date" title='Mon Feb 8 2016 18:00:00 EST'>Feb 8, 2016</div>
                    
                    
		    <div class="reading-time"><div class="middot"></div>5 minutes read</div>
                    
                </div>
            </div>
            <div class="markdown">
                

<h2 id="sencha-touch-extjs">Sencha Touch/ExtJS</h2>

<p>If you have stuck with Sencha Touch or ExtJS for this long, it&rsquo;s probably for a very good reason. Maybe the enterprise you work for pays for it, and that&rsquo;s just what you have, or perhaps you&rsquo;re just very experienced with it, and have a certain fondness for the layout of the framework: the extensible class system, the reusable view components, etc. Or, maybe you just haven&rsquo;t had the time or energy to wade through the exhausting barrage of new JS frameworks that seem to appear every other day. You&rsquo;d have to learn a new framework to at least close to your current proficiency and write the app in the same amount of time that you&rsquo;ve budgeted.  Certainly some of these are true for myself, and I am weary of being left behind by JS. It&rsquo;s a powerful language and it&rsquo;s going places.</p>

<h2 id="sencha-s-business-model">Sencha&rsquo;s Business Model</h2>

<p>ExtJS 6 was a huge update for the platform (Merging frameworks, Fashion, MVVM, etc.), but I feel it is taking it&rsquo;s own (perhaps less popular) path with JS. There is no longer a free commercial license for Sencha, with exception of  Sencha Touch, which is essentially dead. Sencha can call ExtJS 6 Open Source (GPLv3) all they want, but they certainly don&rsquo;t act like other open source projects - there is no place for unregistered (non-paying) members to report bugs, submit pull requests, or anything else for that matter. I have ended up working directly with certain employees on many occasions, including Mitchell Simoens - a talented employee of Sencha - but this seems to be an exception rather than a rule. I certainly would have done a lot of free work for them if they had a formal outlet. But who can really blame them? Nothing in this world is truly free, and sorting bugs, and reviewing pulls requires time and money. Then again, other frameworks are making the model work.</p>

<h2 id="es6-es2015">ES6/ES2015</h2>

<p>That all being said, I have to make it work. I have applications that I support that use Sencha, and they&rsquo;re not going away anytime soon. So I am doing my best to keep them modern. And by modern, I of course mean modern JS features. Among the most useful that I have longed for in Sencha in the past were arrow functions, template strings, destructuring, enhanced object literals, and new variable declarations - let and const. All of these are ECMAScript 6, also known as ECMAScript 2015 - and aren&rsquo;t fully implemented in all browsers, which can be a problem, especially for mobile as a whole. There are ways to check support for features, of course, but who wants to wait? Enter Babel.</p>

<p>Getting Sencha Touch to work with Babel was certainly an adventure, and I would like to share, so that anyone else who wants to experiment, can do so without a huge devotion of time and resources. **Disclaimer - this is done with Sencha Cmd v6.1.3.42, and Touch 2.4.2, though I imagine this would work for ExtJS too.</p>

<h2 id="getting-started-with-babel">Getting started with Babel</h2>

<p>The first step is creating a project the way you normally would with the following command, the way you normally would:</p>

<p><code>sencha generate app {APP_NAME} ~/{DIR}/{APP_NAME}</code></p>

<p>Then you need to initialize the NPM package.json for your project - navigate to your project folder then run npm init - this will keep track of all the packages you will be using, either in your project or for development.</p>

<p><code>npm init</code>
<img src="../img/npm_init.png" alt="npm init" /></p>

<p>Now install your NPM packages:</p>

<p><del><code>npm install babel-cli babel-preset-es2015 --save-dev</code></del></p>

<p><del>In order for Babel to cooperate with Sencha, and not break everything, we need to break out each individual plugin from the babel-preset-es2015 in the .babelrc and override one of the plugins config options to disallow strict mode. To create this .babelrc, paste this into your terminal:</del></p>

<p><strong>UPDATE:</strong></p>

<p>I recommend using the env preset instead of the es2015 preset:</p>

<p><code>npm install babel-preset-env --save-dev</code></p>

<p>Much easier to deal with, and does not force you to transpile things that may not need transpiled. You are, however, still at the mercy of the Rhino parser that Sencha uses during build so we need to specifically force transpile of computed properties. As browsers progress, there may be more transforms that we have to force to support the aging parser, or find a way to bypass Rhino entirely.</p>

<p>Babel inside of package.json now looks like this:</p>

<pre><code>&quot;babel&quot;: {
   &quot;presets&quot;: [
     [
       &quot;env&quot;,
       {
         &quot;targets&quot;: {
           &quot;browsers&quot;: [
             &quot;iOS &gt;= 8&quot;,
             &quot;Chrome &gt;=46&quot;
           ]
         },
         &quot;include&quot;: [
           &quot;transform-es2015-computed-properties&quot;
         ],
         &quot;loose&quot;: true,
         &quot;modules&quot;: false
       }
     ]
   ],
   &quot;comments&quot;: false
 },
</code></pre>

<p>Now, add some scripts in your package.json something like this:</p>

<pre><code class="language-javascript">&quot;scripts&quot; : {
  &quot;build&quot;: &quot;babel es6 -d app --comments=false --compact=true&quot;,
  &quot;watch&quot;: &quot;babel es6 -d app --watch&quot;
}
</code></pre>

<h2 id="setting-up-your-sencha-project">Setting up your Sencha project</h2>

<p>In order to simplify the transpilation process, we will move the app.js file into the app folder</p>

<p><code>mv app.js app</code></p>

<p>Then, change the path of app.js in app.json from <code>&quot;path&quot;: &quot;app.js&quot;</code>, to <code>&quot;path&quot;: &quot;app/app.js&quot;</code>,</p>

<p>Now, duplicate the app folder to our new es6 folder that will house the code to be transpiled by Babel.</p>

<p><code>ditto app es6</code></p>

<h2 id="running-babel">Running Babel</h2>

<p>From here on out, make changes ONLY to your files in the es6 folder - if you forget and make some changes in the app directory, it will probably get overwritten next time you change something in es6.</p>

<p>Using the commands we put in &ldquo;scripts&rdquo; in the package.json, we can for example call npm run build-prod in terminal to transpile the contents of the es6 directory into the app directory that sencha is used to running the application from.</p>

<p><img src="../img/run_babel.png" alt="running babel" /></p>

<p>Try using an arrow function, or a let/const variable declaration, run npm run build-prod or npm run build-debug, then refresh your application - it should transpile and give you standard ES5 JavaScript in your app/app.js file!</p>

<p>If anyone has found a better way to do this, or to better integrate it with Sencha Cmd, drop me a line or a comment!</p>

                <br>
		<p><a href="https://trevorbrindle.com/blog/">Back to posts</a></p>
            </div>
            <br>
            <div class="disqus">
                <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'trevorbrindle-com';
    var disqus_identifier = 'https:\/\/trevorbrindle.com\/sencha-touch-extjs-with-es6\/';
    var disqus_title = 'Sencha Touch\/ExtJS with ES6: UPDATED';
    var disqus_url = 'https:\/\/trevorbrindle.com\/sencha-touch-extjs-with-es6\/';

    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
            </div>
        </div>
    </div>
</section>





  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.11.0/highlight.min.js"></script>
  

  <script type="text/javascript">
    hljs.initHighlightingOnLoad();
  </script>



</body>
</html>

